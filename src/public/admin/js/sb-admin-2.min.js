/*!
 * Start Bootstrap - SB Admin 2 v4.0.7 (https://startbootstrap.com/template-overviews/sb-admin-2)
 * Copyright 2013-2019 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

! function(t) {
    "use strict";
    t("#sidebarToggle, #sidebarToggleTop").on("click", function(o) { t("body").toggleClass("sidebar-toggled"), t(".sidebar").toggleClass("toggled"), t(".sidebar").hasClass("toggled") && t(".sidebar .collapse").collapse("hide") }), t(window).resize(function() { t(window).width() < 768 && t(".sidebar .collapse").collapse("hide") }), t("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel", function(o) {
        if (768 < t(window).width()) {
            var e = o.originalEvent,
                l = e.wheelDelta || -e.detail;
            this.scrollTop += 30 * (l < 0 ? 1 : -1), o.preventDefault()
        }
    }), t(document).on("scroll", function() { 100 < t(this).scrollTop() ? t(".scroll-to-top").fadeIn() : t(".scroll-to-top").fadeOut() }), t(document).on("click", "a.scroll-to-top", function(o) {
        var e = t(this);
        t("html, body").stop().animate({ scrollTop: t(e.attr("href")).offset().top }, 1e3, "easeInOutExpo"), o.preventDefault()
    })




    /**
     * BY A4ANTHONY
     */
    $(window).on('load', function() {
        /*-- preloader ---*/
        setTimeout(function() {
            $('.alert').slideUp().delay(1000).fadeOut(500);
        }, 10000);

    });


    $(document).on("change keyup blur", "#discount", function() {
        var main = $('#total').val();
        var disc = $('#chDiscount').val();
        var dec = (disc / 100).toFixed(2); //its convert 10 into 0.10
        var mult = main * dec; // gives the value for subtract from main value
        var discont = main - mult;
        $('#result').val(discont);
    });






    $(document).on("change keyup blur", "#initial_price", function() {
        var main = $('#initial_price').val();
        var disc = $('#discount').val();
        var dec = (disc / 100).toFixed(2); //its convert 10 into 0.10
        var mult = main * dec; // gives the value for subtract from main value
        var discont = main - mult;
        var discont = Math.round(0.0 + discont);
        $('#total_price').val(discont);
    });
    $(document).on("change keyup blur", "#discount", function() {
        var main = $('#initial_price').val();
        var disc = $('#discount').val();
        var dec = (disc / 100).toFixed(2); //its convert 10 into 0.10
        var mult = main * dec; // gives the value for subtract from main value
        var discont = main - mult;
        var discont = Math.round(0.0 + discont);
        $('#total_price').val(discont);
    });
    //Handles sub category autopopulate
    $.ajaxSetup({
        headers: {
            'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
        }
    });

    $("#main_category").change(function() {
        $.ajax({
            url: "/subcategory/" + $(this).val(),
            method: 'GET',
            success: function(data) {
                console.log(data);
                $('#sub_category').prop('disabled', false);
                $('#sub_category').html(data.html);
            }
        });
    });



    //Profile links
    $('#products-link-1').on('click', function() {
        location.href = '/products/all';
    });
    $('#products-link-2').on('click', function() {
        location.href = '/products/live';
    });
    $('#products-link-3').on('click', function() {
        location.href = '/products/paused';
    });
    $('#products-link-4').on('click', function() {
        location.href = '/products/out-of-stock';
    });
}(jQuery);